//direction = x + 90;

direction = point_direction(x, y, 384, 256);